(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(77)},45:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var l=a(0),n=a.n(l),o=a(32),c=a.n(o),s=(a(45),a(15)),u=a(37),r=a(33),i=a(14),d=a(38),m=a(36),p=a(24),b=a(35),v=a.n(b),g=function(e){var t=e.icon;return n.a.createElement("img",{src:"".concat("","/icons/").concat(t,".svg"),className:"fr-icon",alt:"icon-".concat(t)})},f=(a(74),function(e){var t=e.red,a=e.blue,l=e.green,o=e.icon,c=Object(p.a)(e,["red","blue","green","icon"]);return n.a.createElement("button",Object.assign({type:"button",className:v()("button-bubble",{"button-bubble__red":t,"button-bubble__blue":a,"button-bubble__green":l})},c),n.a.createElement(g,{icon:o}))});f.defaultProps={red:!1,blue:!1,green:!1};var C=function(e){var t=e.label,a=Object(p.a)(e,["label"]);return t?n.a.createElement("div",{className:"button-bubble-label"},n.a.createElement(f,a),n.a.createElement("span",{className:"button-bubble-label__label"},t)):f};C.defaultProps={label:""};var y=C,h=(a(75),["1","2","3","4","5","6","7","8","9","0"]),k=function(e){var t=e.onClick;return n.a.createElement("div",{className:"keypad"},h.map(function(e){return n.a.createElement("button",{key:e,className:"keypad__number",type:"button",value:e,onClick:t},e)}))},E=function(e){var t=e.value,a=e.onChange;return n.a.createElement("div",{className:"call-support__volume"},n.a.createElement("label",{htmlFor:"volume"},"Volume"),n.a.createElement("input",{type:"range",id:"volume",min:"0",max:"100",step:"1",value:t,onChange:a}))},_=(a(76),function(e){function t(e){var a;return Object(s.a)(this,t),(a=Object(u.a)(this,Object(r.a)(t).call(this,e))).onCallToggle=function(){var e=a.state,t=e.isCall,l=e.number;t&&(a.flowrouteClient.hangup(),a.setState({volume:100,isMuted:!1,isKeypadOpen:!1,keysPressed:[]}),a.flowrouteClient.setOutputVolume(100)),t||a.flowrouteClient.call({to:l,onCallAction:a.handleCallAction})},a.onMutedToggle=function(){var e=a.state.isMuted;a.setState({isMuted:!e}),e?a.flowrouteClient.getActiveCall().unmute():a.flowrouteClient.getActiveCall().mute()},a.onKeypadToggle=function(){a.setState(function(e){return{isKeypadOpen:!e.isKeypadOpen}})},a.onHandleVolume=function(e){var t=e.target;a.setState({volume:t.value}),a.flowrouteClient.setOutputVolume(t.value)},a.onClickKeypad=function(e){var t=e.target,l=a.state.keysPressed;l.push(t.value),a.flowrouteClient.getActiveCall().sendDTMF(t.value),a.setState({keysPressed:l})},a.handleCallAction=function(e){switch(console.log("call action: ".concat(e.type)),a.setState({status:e.type}),e.type){case"accepted":case"confirmed":a.setState({isCall:!0});break;case"ended":a.setState({isCall:!1}),a.setState({volume:100,isMuted:!1,isKeypadOpen:!1,keysPressed:[]}),a.flowrouteClient.setOutputVolume(100);break;default:console.warn("Ignored call action:",e.type,e.payload)}},a.handleUserAgentAction=function(e){console.log("user action: ".concat(e.type)),a.setState({status:e.type})},a.flowrouteClient=new m.a({debug:!0,onUserAgentAction:a.handleUserAgentAction}),a.state={number:"13125867146",isCall:!1,isMuted:!1,isKeypadOpen:!1,volume:100,keysPressed:[],status:""},a}return Object(d.a)(t,e),Object(i.a)(t,null,[{key:"disabledCallButton",value:function(e){return""!==e&&"ended"!==e&&"registered"!==e}}]),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.flowrouteClient.start()}},{key:"render",value:function(){var e=this.state,a=e.number,o=e.isCall,c=e.isMuted,s=e.isKeypadOpen,u=e.volume,r=e.keysPressed,i=e.status,d=this.props.onClose;return n.a.createElement("div",{className:"call-support__modal"},n.a.createElement("div",{className:"call-support__header"},n.a.createElement("h3",null,"Call Support"),n.a.createElement("button",{type:"button",className:"call-support__close",onClick:d},n.a.createElement("i",{className:"fa fa-times"}))),n.a.createElement("div",{className:"call-support__body"},n.a.createElement("div",{className:"call-support__number"},"+",a),i&&n.a.createElement("div",{className:"call-support__status"},i),s&&n.a.createElement("div",{className:"call-support__keypad"},!!r.length&&n.a.createElement("div",{className:"call-support__display-keys"},r.join("")),n.a.createElement(k,{onClick:this.onClickKeypad})),n.a.createElement("div",{className:"call-support__actions"},!o&&n.a.createElement(y,{icon:"call-start",label:"call",green:!0,onClick:this.onCallToggle,disabled:t.disabledCallButton(i)}),o&&n.a.createElement(l.Fragment,null,n.a.createElement(y,{icon:"muted",label:c?"unmute":"mute",blue:c,onClick:this.onMutedToggle}),n.a.createElement(y,{icon:"keypad",label:"keypad",blue:s,onClick:this.onKeypadToggle}),n.a.createElement(y,{icon:"call-end",label:"end call",red:!0,onClick:this.onCallToggle}))),o&&n.a.createElement("div",{className:"call-support__footer"},n.a.createElement(E,{value:u,onChange:this.onHandleVolume}))))}}]),t}(n.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));c.a.render(n.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.f4bf03a4.chunk.js.map