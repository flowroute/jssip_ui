(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{39:function(e,t,a){e.exports=a(77)},45:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){"use strict";a.r(t);var n=a(0),l=a.n(n),o=a(32),s=a.n(o),c=(a(45),a(15)),u=a(37),r=a(33),i=a(14),d=a(38),m=a(36),p=a(24),b=a(35),v=a.n(b),f=function(e){var t=e.icon;return l.a.createElement("img",{src:"".concat("","/icons/").concat(t,".svg"),className:"fr-icon",alt:"icon-".concat(t)})},g=(a(74),function(e){var t=e.red,a=e.blue,n=e.green,o=e.icon,s=Object(p.a)(e,["red","blue","green","icon"]);return l.a.createElement("button",Object.assign({type:"button",className:v()("button-bubble",{"button-bubble__red":t,"button-bubble__blue":a,"button-bubble__green":n})},s),l.a.createElement(f,{icon:o}))});g.defaultProps={red:!1,blue:!1,green:!1};var C=function(e){var t=e.label,a=Object(p.a)(e,["label"]);return t?l.a.createElement("div",{className:"button-bubble-label"},l.a.createElement(g,a),l.a.createElement("span",{className:"button-bubble-label__label"},t)):g};C.defaultProps={label:""};var y=C,h=(a(75),["1","2","3","4","5","6","7","8","9","0"]),k=function(e){var t=e.onClick;return l.a.createElement("div",{className:"keypad"},h.map(function(e){return l.a.createElement("button",{key:e,className:"keypad__number",type:"button",value:e,onClick:t},e)}))},E=function(e){var t=e.value,a=e.onChange;return l.a.createElement("div",{className:"call-support__volume"},l.a.createElement("label",{htmlFor:"volume"},"Volume"),l.a.createElement("input",{type:"range",id:"volume",min:"0",max:"100",step:"1",value:t,onChange:a}))},_=(a(76),function(e){function t(e){var a;return Object(c.a)(this,t),(a=Object(u.a)(this,Object(r.a)(t).call(this,e))).onCallToggle=function(){var e=a.state,t=e.isCall,n=e.number;t&&(a.flowrouteClient.hangup(),a.setState({volume:100,isMuted:!1,isKeypadOpen:!1,keysPressed:[]}),a.flowrouteClient.setOutputVolume(100)),t||a.flowrouteClient.call({to:n,onCallAction:a.handleCallAction})},a.onMutedToggle=function(){var e=a.state.isMuted;a.setState({isMuted:!e}),e?a.flowrouteClient.getActiveCall().unmute():a.flowrouteClient.getActiveCall().mute()},a.onKeypadToggle=function(){a.setState(function(e){return{isKeypadOpen:!e.isKeypadOpen}})},a.onHandleVolume=function(e){var t=e.target;a.setState({volume:t.value}),a.flowrouteClient.setOutputVolume(t.value)},a.onClickKeypad=function(e){var t=e.target,n=a.state.keysPressed;n.push(t.value),a.flowrouteClient.sendRtpDTMF(t.value),a.setState({keysPressed:n})},a.handleCallAction=function(e){switch(console.log("call action: ".concat(e.type)),a.setState({status:e.type}),e.type){case"accepted":case"confirmed":a.setState({isCall:!0});break;case"ended":case"failed":a.setState({isCall:!1,volume:100,isMuted:!1,isKeypadOpen:!1,keysPressed:[]}),a.flowrouteClient.setOutputVolume(100);break;default:console.warn("Ignored call action:",e.type,e.payload)}},a.handleUserAgentAction=function(e){console.log("user action: ".concat(e.type)),a.setState({status:e.type})},a.flowrouteClient=new m.a({debug:!0,onUserAgentAction:a.handleUserAgentAction}),a.state={number:"13125867146",isCall:!1,isMuted:!1,isKeypadOpen:!1,volume:100,keysPressed:[],status:""},a}return Object(d.a)(t,e),Object(i.a)(t,null,[{key:"isEnabledCallButton",value:function(e){return"ended"===e||"registered"===e||"failed"===e}}]),Object(i.a)(t,[{key:"componentDidMount",value:function(){this.flowrouteClient.start()}},{key:"componentWillUnmount",value:function(){var e=this.state.isCall;this.flowrouteClient.onUserAgentAction=function(){},e&&this.flowrouteClient.hangup(),this.flowrouteClient.stop()}},{key:"render",value:function(){var e=this.state,a=e.number,o=e.isCall,s=e.isMuted,c=e.isKeypadOpen,u=e.volume,r=e.keysPressed,i=e.status,d=this.props.onClose;return l.a.createElement("div",{className:"call-support__modal"},l.a.createElement("div",{className:"call-support__header"},l.a.createElement("h3",null,"Call Support"),l.a.createElement("button",{type:"button",className:"call-support__close",onClick:d},l.a.createElement("i",{className:"fa fa-times"}))),l.a.createElement("div",{className:"call-support__body"},l.a.createElement("div",{className:"call-support__number"},"+",a),i&&l.a.createElement("div",{className:"call-support__status"},i),c&&l.a.createElement("div",{className:"call-support__keypad"},!!r.length&&l.a.createElement("div",{className:"call-support__display-keys"},r.join("")),l.a.createElement(k,{onClick:this.onClickKeypad})),l.a.createElement("div",{className:"call-support__actions"},!o&&l.a.createElement(y,{id:"btn-call-start",icon:"call-start",label:"call",green:!0,onClick:this.onCallToggle,disabled:!t.isEnabledCallButton(i)}),o&&l.a.createElement(n.Fragment,null,l.a.createElement(y,{id:"btn-muted",icon:"muted",label:s?"unmute":"mute",blue:s,onClick:this.onMutedToggle}),l.a.createElement(y,{id:"btn-keypad",icon:"keypad",label:"keypad",blue:c,onClick:this.onKeypadToggle}),l.a.createElement(y,{id:"btn-call-end",icon:"call-end",label:"end call",red:!0,onClick:this.onCallToggle}))),o&&l.a.createElement("div",{className:"call-support__footer"},l.a.createElement(E,{value:u,onChange:this.onHandleVolume}))))}}]),t}(l.a.Component));Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));s.a.render(l.a.createElement(_,null),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})}},[[39,1,2]]]);
//# sourceMappingURL=main.b92a0a58.chunk.js.map